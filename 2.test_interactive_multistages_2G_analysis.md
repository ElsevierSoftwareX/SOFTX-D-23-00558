# Example : interactive multistages 2G analysis

> [GWBurst: How to do an interactive multistages 2G analysis](https://gwburst.gitlab.io/documentation/latest/html/faq.html#how-to-do-an-interactive-multistages-2g-analysis)


## Setup

Copy the example files to the working directory

```bash
cp -r $CWB_SOURCE/tools/cwb/examples/ADV_SIM_NSNS_L1H1V1_MultiStages2G  MultiStages2G
cd MultiStages2G
ipython
```

Replace the `exit(0);` in line 25 of file `macro/CreateFramesNOISE.c` to `return 0;` to prevent python exit

Run the setup

```python
import sys, os
import glob
from os.path import dirname, exists
from pathlib import Path
sys.path.append('..')
from pycWB import config

ROOT, gROOT, gSystem, gStyle, configs = config.init('../pycWB/config.ini')

if not exists('plugins'): os.symlink(f"{configs['CWB']['CWB_INSTALL']}/etc/cwb/plugins",'plugins')
gROOT.LoadMacro("macro/CreateFramesNOISE.C")
ROOT.CreateFramesNOISE()

os.makedirs('input', exist_ok=True)

for det in ['H1','L1','V1']:
	with open(f"input/{det}.frames", 'w') as t:
		t.write(glob.glob(f"{os.getcwd()}/frames/*/{det}*.gwf")[0])

with open('input/inspiral.in', 'w') as t:
	t.write("931158200    931158600")
```

Run `cwb_inet2G`

```python
gROOT.LoadMacro(f"{configs['CWB']['CWB_INSTALL']}/etc/cwb/macros/cwb_inet2G.C")

CWB_STAGE_INIT = 1
ROOT.cwb_inet2G(1,'config/user_parameters.C', CWB_STAGE_INIT)
```